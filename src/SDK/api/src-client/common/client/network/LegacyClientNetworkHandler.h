#pragma once

#include "ClientNetworkHandler.h"
#include "SDK/api/src/common/world/level/LevelListener.h"

class LegacyClientNetworkHandler : public ClientNetworkHandler, public LevelListener {
public:
    SAPPHIRE_API("1.21.2", "\x40\x53\x48\x83\xEC\x00\x48\x8B\x05\x00\x00\x00\x00\x48\x33\xC4\x48\x89\x44\x24\x00\x49\x8B\xD8\x48\x89\x5C\x24\x00\x0F\x57\xC0\x0F\x11\x44\x24\x00\x4D\x8B\x00")
    SAPPHIRE_API("1.21.50,1.21.60", "\x48\x89\x5C\x24\x00\x55\x56\x57\x41\x56\x41\x57\x48\x81\xEC\x00\x00\x00\x00\x48\x8B\x05\x00\x00\x00\x00\x48\x33\xC4\x48\x89\x84\x24\x00\x00\x00\x00\x49\x8B\xF0\x4C\x8B\xFA\x48\x8B\xF9")
    SDK_API /*virtual*/ void handle(const NetworkIdentifier &source, std::shared_ptr<class UpdateBlockSyncedPacket> packet) /*override*/;

    SAPPHIRE_API("1.21.2", "\x4C\x89\x44\x24\x00\x53\x48\x83\xEC\x00\x49\x8B\xD8\x45\x33\xC9")
    SAPPHIRE_API("1.21.50,1.21.60", "\x48\x89\x5C\x24\x00\x4C\x89\x44\x24\x00\x57\x48\x83\xEC\x00\x49\x8B\xD8\x45\x33\xC9")
    SDK_API /*virtual*/ void handle(const NetworkIdentifier &source, std::shared_ptr<class UpdateBlockPacket> packet) /*override*/;

    SAPPHIRE_API("1.21.2", "\x48\x89\x5C\x24\x00\x48\x89\x6C\x24\x00\x48\x89\x74\x24\x00\x57\x48\x81\xEC\x00\x00\x00\x00\x49\x8B\xF8\x48\x8B\xEA")
    SAPPHIRE_API("1.21.50,1.21.60", "\x48\x89\x5C\x24\x00\x55\x56\x57\x41\x54\x41\x55\x41\x56\x41\x57\x48\x81\xEC\x00\x00\x00\x00\x49\x8B\xF8\x4C\x89\x44\x24\x00\x48\x89\x54\x24")
    SDK_API /*virtual*/ void handle(const NetworkIdentifier &source, const class BlockEventPacket &packet) /*override*/;

    SAPPHIRE_API("1.21.2,1.21.50,1.21.60", "\x48\x89\x5C\x24\x08\x48\x89\x74\x24\x10\x4C\x89\x44\x24\x18\x57\x48\x83\xEC\x70\x49\x8B\x00\x48\x8B\xF2\x48\x8B\x00\x48\x8B")
    SDK_API /*virtual*/ void handle(const NetworkIdentifier &source, std::shared_ptr<class BlockActorDataPacket> packet) /*override*/;

    SAPPHIRE_API("1.21.2,1.21.50,1.21.60", "\x48\x89\x5C\x24\x00\x55\x56\x57\x41\x54\x41\x55\x41\x56\x41\x57\x48\x8D\xAC\x24\x00\x00\x00\x00\x48\x81\xEC\x00\x00\x00\x00\x48\x8B\x05\x00\x00\x00\x00\x48\x33\xC4\x48\x89\x85\x00\x00\x00\x00\x00\x8B\x00\x48\x8B\xF2\x4C\x8B\xF9\x4C\x89\x85")
    SDK_API /*virtual*/ void handle(const NetworkIdentifier &source, std::shared_ptr<class LevelChunkPacket> packet) /*override*/;

    SAPPHIRE_API("1.21.2", "\x48\x89\x5C\x24\x00\x48\x89\x74\x24\x00\x57\x48\x81\xEC\x00\x00\x00\x00\x49\x8B\xD8\x48\x8B\xF2\x48\x8B\xF9")
    SAPPHIRE_API("1.21.50,1.21.60", "\x48\x89\x5C\x24\x00\x55\x56\x57\x41\x54\x41\x55\x41\x56\x41\x57\x48\x8D\x6C\x24\x00\x48\x81\xEC\x00\x00\x00\x00\x4D\x8B\xF0\x4C\x8B\xE2\x4C\x8B\xF9")
    SDK_API /*virtual*/ void handle(const NetworkIdentifier &source, const class UpdateSubChunkBlocksPacket &packet) /*override*/;
};