#include "ClientInputHandler.h"

ClientInputHandler *ClientInputHandler::ctor(
    const Bedrock::NotNullNonOwnerPtr<IClientInstance> &client,
    InputHandler                                       &inputHandler,
    IGameModuleApp                                     &gameModuleApp
) {
    using Hook = sapphire::ApiLoader<
#if MC_VERSION == v1_21_2
        "\x48\x89\x5C\x24\x00\x55\x56\x57\x41\x54\x41\x55\x41\x56\x41\x57\x48\x8D\x6C\x24\x00\x48\x81\xEC\x00\x00\x00\x00\x48\x8B\x05\x00\x00\x00\x00\x48\x33\xC4\x48\x89\x45\x00\x4C\x89\x4C\x24\x00\x48\x8B\xF2"_sig,
#elif MC_VERSION == v1_21_50
        "\x48\x89\x5C\x24\x00\x55\x56\x57\x41\x54\x41\x55\x41\x56\x41\x57\x48\x8D\x6C\x24\x00\x48\x81\xEC\x00\x00\x00\x00\x48\x8B\x05\x00\x00\x00\x00\x48\x33\xC4\x48\x89\x45\x00\x4D\x8B\xE1\x48\x8B\xFA"_sig,
#elif MC_VERSION == v1_21_60
        "\x48\x89\x5C\x24\x00\x55\x56\x57\x41\x54\x41\x55\x41\x56\x41\x57\x48\x8D\x6C\x24\x00\x48\x81\xEC\x00\x00\x00\x00\x48\x8B\x05\x00\x00\x00\x00\x48\x33\xC4\x48\x89\x45\x00\x4D\x8B\xE9\x48\x8B\xFA"_sig,
#endif
        &ClientInputHandler::ctor>;
    return (this->*Hook::origin)(client, inputHandler, gameModuleApp);
}