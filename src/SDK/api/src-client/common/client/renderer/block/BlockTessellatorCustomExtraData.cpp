#include "BlockTessellatorCustomExtraData.h"

BlockTessellatorCustomExtraData::Map BlockTessellatorCustomExtraData::extract(
    BlockSource &region, const BlockPos &min, const BlockPos &max
) {
    using Bind = sapphire::bind::Fn<
#if MC_VERSION == v1_21_2
        "\x48\x89\x5C\x24\x00\x55\x56\x57\x41\x54\x41\x55\x41\x56\x41\x57\x48\x81\xEC\x00\x00\x00\x00\x48\x8B\x05\x00\x00\x00\x00\x48\x33\xC4\x48\x89\x84\x24\x00\x00\x00\x00\x4D\x8B\xF1\x4D\x8B\xF8\x48\x8B\xF2"_sig,
#elif MC_VERSION == v1_21_50 || MC_VERSION == v1_21_60
        "\x48\x89\x5C\x24\x00\x55\x56\x57\x41\x54\x41\x55\x41\x56\x41\x57\x48\x8D\x6C\x24\x00\x48\x81\xEC\x00\x00\x00\x00\x0F\x29\xB4\x24\x00\x00\x00\x00\x48\x8B\x05\x00\x00\x00\x00\x48\x33\xC4\x48\x89\x45\x00\x4D\x8B\xF9\x4D\x8B\xE0\x48\x8B\xF2"_sig,
#endif
        &BlockTessellatorCustomExtraData::extract>;
    return Bind::origin(region, min, max);
}